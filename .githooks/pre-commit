#!/usr/bin/env bash
set -euo pipefail

# Go to the root of the repo
ROOT_DIR=$(git rev-parse --show-toplevel)
cd "$ROOT_DIR"

echo "[pre-commit] Formateando c√≥digo con Spotless..."
./gradlew spotlessApply

# Stage only changed files
git add $(git diff --name-only)

echo "[pre-commit] Formatted with Spotless and staged."
